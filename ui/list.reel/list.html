<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="list.css">
    <script type="text/montage-serialization">
        {
            "owner": {
                "values": {
                    "element": {"#": "list"},
                    "_repetition": {"@": "repetition"},
                    "selection": {"<->": "@repetition.selection"},
                    "data.selectedObject": {"<-": "@repetition.selection.one()"},
                    "delegate": {"<-": "@owner.data.defined() ? @owner.data.delegate : @owner.delegate"},
                    "montageListItemModule": { "%": "../list-item.reel"}
                } 
            },

            "repetition": {
                "prototype": "../repetition.reel",
                "values": {
                    "element": {"#": "repetition"},
                    "isSelectionEnabled": {"<-": "@owner.data.defined() ? @owner.isNavigationEnabled : @owner.isSelectionEnabled"},
                    "contentController": {"<->": "@owner.contentController"},
                    "content": {"<-": "@owner.data.defined() ? @owner.data.object : (@owner.contentController.content || @owner.content)"}
                }
            },

            ":iteration": {
               "alias": "@repetition:iteration"
            },
            
            "placeholder": {
                "prototype": "../placeholder.reel",
                "values": {
                    "element": {"#": "placeholder"},
                    "component.list": {"<-": "@owner"},
                    "componentModule": {"<-": "@owner.data.userInterfaceDescriptor.collectionItemComponentModule || @owner.montageListItemModule"},
                    "component.delegate": {"<-": "@owner.delegate"},
                    "component.rowIndex": {"<-": "@repetition:iteration.index"},
                    "component.isNavigationEnabled": {"<-": "@owner.isNavigationEnabled"},
                    "component.userInterfaceDescriptor": {"<-": "@owner.data.userInterfaceDescriptor"},
                    "data": {"<-": "@repetition:iteration.object"}
                }
            }          
        }
    </script>
</head>
<body>
	<div data-montage-id="list" class="List">
        <ul data-montage-id="repetition" class="List-repetition">
            <li data-param="*">
                <div data-montage-id="placeholder" class="item"></div>
            </li>
        </ul>
	</div>
</body>
</html>
