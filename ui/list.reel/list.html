<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="list.css">
    <script type="text/montage-serialization">
        {
            "owner": {
                "values": {
                    "element": {"#": "list"},
                    "_repetition": {"@": "repetition"},
                    "selection": {"<->": "@repetition.selection"},
                    "context.selectedObject": {"<-": "@repetition.selection.one()"},
                    "delegate": {"<-": "@owner.context.defined() ? @owner.context.delegate : @owner.delegate"}
                } 
            },

            "repetition": {
                "prototype": "../repetition.reel",
                "values": {
                    "element": {"#": "repetition"},
                    "isSelectionEnabled": {"<-": "@owner.context.defined() ? true : @owner.isSelectionEnabled"},
                    "contentController": {"<->": "@owner.contentController"},
                    "content": {"<-": "@owner.context.defined() ? @owner.context.object : (@owner.contentController.content || @owner.content)"}
                }
            },

            ":iteration": {
               "alias": "@repetition:iteration"
            },

            "listItem": {
                "prototype": "../list-item.reel",
                "values": {
                    "element": {"#": "listItem"},
                    "list": {"<-": "@owner"},
                    "rowIndex": {"<-": "@repetition:iteration.index"},
                    "isNavigationEnabled": {"<-": "@owner.isNavigationEnabled"},
                    "delegate": {"<-": "@owner.delegate"},
                    "object": {"<-": "@repetition:iteration.object"}
                }
            }
        }
    </script>
</head>
<body>
	<div data-montage-id="list" class="List">
        <ul data-montage-id="repetition" class="List-repetition">
            <li data-param="*">
                <div data-montage-id="listItem"></div>
            </li>
        </ul>
	</div>
</body>
</html>
