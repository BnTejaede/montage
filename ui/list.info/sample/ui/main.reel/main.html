<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="main.css">
    <script type="text/montage-serialization">
        {
            "owner": {
                "values": {
                    "element": {"#": "main"}
                }
            },

            "contentController": {
                "prototype": "montage/core/range-controller",
                "values": {
                    "content": {"<-": "@owner.content"}
                }
            },

            "list": {
                "prototype": "montage/ui/list.reel",
                "values": {
                    "element": {"#": "list"},
                    "contentController": {"<-": "@contentController"}
                }
            },

            "listItem": {
                "prototype": "montage/ui/list-item.reel",
                "values": {
                    "element": {"#": "item"},
                    "label": {"<-": "@list:iteration.object.lastname + ' ' + @list:iteration.object.firstname"},
                    "description": {"<-": "@list:iteration.object.department"}
                }
            },

            "contentControllerUI": {
                "prototype": "montage/core/range-controller",
                "values": {
                    "content": {"<-": "@owner.content"}
                }
            },

            "listUI": {
                "prototype": "montage/ui/list.reel",
                "values": {
                    "element": {"#": "list-ui"},
                    "contentController": {"<-": "@contentControllerUI"}
                }
            },

            "listItemUI": {
                "prototype": "montage/ui/list-item.reel",
                "values": {
                    "element": {"#": "item-ui"},
                    "data": {"<-": "@listUI:iteration.object"}
                }
            },

            "allowMultipeSelection": {
                "prototype": "montage/ui/checkbox.reel",
                "values": {
                    "element": {"#": "allowMultipeSelection"},
                    "checked": {"<->": "!!@contentController.allowsMultipleSelection"},
                    "checked": {"<->": "!!@contentControllerUI.allowsMultipleSelection"}
                }
            },

            "isSelectionEnabled": {
                "prototype": "montage/ui/checkbox.reel",
                "values": {
                    "element": {"#": "isSelectionEnabled"},
                    "checked": {"<->": "!!@list.isSelectionEnabled"},
                    "checked": {"<->": "!!@listUI.isSelectionEnabled"}
                }
            }

        }
    </script>
</head>
<body>
    <div data-montage-id="main" class="Main">
        <header>List Sample</header>
        <div data-montage-id="list">
            <div data-montage-id="item"></div>
        </div>

        <header>List Sample User Interface descriptor</header>
        <div data-montage-id="list-ui">
            <div data-montage-id="item-ui"></div>
        </div>

        <div class="options">
            <h2>Options: </h2>
            <p>
                <span>Enable Selection: </span>
                <input type="checkbox" data-montage-id="isSelectionEnabled" />
            </p>
            <p>
                <span>Allow Multipe Selection: </span>
                <input type="checkbox" data-montage-id="allowMultipeSelection" />
            </p>
        </div>
    </div>
</body>
</html>
